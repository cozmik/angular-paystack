{"ast":null,"code":"import { PUBLIC_KEY_TOKEN } from './paystack-token';\nimport * as i0 from \"@angular/core\";\nexport let AngularPaystackService = /*#__PURE__*/(() => {\n  class AngularPaystackService {\n    constructor(token) {\n      this.token = token;\n    }\n\n    loadScript() {\n      return new Promise(resolve => {\n        if (window.PaystackPop && typeof window.PaystackPop.setup === 'function') {\n          resolve();\n          return;\n        }\n\n        const script = window.document.createElement('script');\n        window.document.head.appendChild(script);\n\n        const onLoadFunc = () => {\n          script.removeEventListener('load', onLoadFunc);\n          resolve();\n        };\n\n        script.addEventListener('load', onLoadFunc);\n        script.setAttribute('src', 'https://js.paystack.co/v1/inline.js');\n      });\n    }\n\n    checkInput(obj) {\n      if (!obj.key && !this.token) {\n        return 'ANGULAR-PAYSTACK: Please insert a your public key';\n      }\n\n      if (!obj.email) {\n        return 'ANGULAR-PAYSTACK: Paystack email cannot be empty';\n      }\n\n      if (!obj.amount) {\n        return 'ANGULAR-PAYSTACK: Paystack amount cannot be empty';\n      }\n\n      if (!obj.ref) {\n        return 'ANGULAR-PAYSTACK: Paystack ref cannot be empty';\n      }\n\n      return '';\n    }\n\n    getPaystackOptions(obj) {\n      const paystackOptions = {\n        key: obj.key || this.token,\n        email: obj.email,\n        amount: obj.amount,\n        ref: obj.ref,\n        metadata: obj.metadata || {},\n        currency: obj.currency || 'NGN',\n        plan: obj.plan || '',\n        channels: obj.channels,\n        quantity: obj.quantity || '',\n        subaccount: obj.subaccount || '',\n        transaction_charge: obj.transaction_charge || 0,\n        bearer: obj.bearer || ''\n      };\n      return paystackOptions;\n    }\n\n  }\n\n  AngularPaystackService.ɵfac = function AngularPaystackService_Factory(t) {\n    return new (t || AngularPaystackService)(i0.ɵɵinject(PUBLIC_KEY_TOKEN));\n  };\n\n  AngularPaystackService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AngularPaystackService,\n    factory: AngularPaystackService.ɵfac,\n    providedIn: 'root'\n  });\n  return AngularPaystackService;\n})();","map":null,"metadata":{},"sourceType":"module"}